<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>:)))))))</title>
  <style>
    body {
      background: linear-gradient(to right, #e0f7ff, #dfefff);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
      height: 100vh;
      margin: 0;
      color: #0d1b2a;
      text-align: center;
    }

    h2, h3 {
      color: #0d47a1;
      margin: 10px 0;
    }

    input[type="password"], textarea {
      padding: 10px 15px;
      border: 2px solid #0d47a1;
      border-radius: 10px;
      font-size: 16px;
      outline: none;
      width: 90%;
      max-width: 300px;
      box-sizing: border-box;
      background: #fff;
      color: #0d1b2a;
      margin-top: 8px;
    }

    button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #0d47a1;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #093170;
    }

    #message {
      margin-top: 20px;
      font-size: 18px;
      color: #001f3f;
      background: rgba(255, 255, 255, 0.85);
      padding: 15px;
      border-radius: 12px;
      max-width: 95%;
      min-height: 80px;
      word-wrap: break-word;
      border: 1px solid #0d47a1;
    }

    #commentBox {
      margin-top: 20px;
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    textarea {
      height: 80px;
      resize: none;
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
        justify-content: flex-start;
      }
      h2 {
        font-size: 20px;
      }
      button {
        font-size: 15px;
      }
      #message {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>

  <h2>üîí Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ xem...</h2>
  <input type="password" id="password" placeholder="M·∫≠t kh·∫©u..." />
  <button onclick="checkPassword()">üíå Xem</button>

  <div id="message"></div>

  <div id="commentBox">
    <h3>üí¨ Vi·∫øt g√¨ ƒë√≥ g·ª≠i l·∫°i t·ªõ n√®:</h3>
    <textarea id="commentInput" placeholder="Vi·∫øt g√¨ ƒë√≥..."></textarea>
    <button onclick="sendComment()">üì® G·ª≠i cho t·ªõ</button>
  </div>

  <script>
    const correctPassword = "2041";
    let currentPassword = correctPassword;
    const fullMessage = "tao th√≠ch m√†y t·ª´ m·ªõi v√†o l·ªõp 9 nh∆∞ng t s·ª£ m kh√¥ng th√≠ch t v√† c≈©ng m·∫•t ƒëi t√¨nh b·∫°n n√†y nh∆∞ng n·∫øu m√†y ƒë·ªçc c√°i n√†y r·ªìi th√¨ v·∫´n l√† b·∫°n nha ü•∫(gi·ªù t v·∫´n thik m)";
    const webhookUrl = "https://discord.com/api/webhooks/1383023560129515561/Fd2f-TANo8YCjyMnmfJ4XywUcTDCbUJ52qGFQ5yXwFRNA1qU263ZFP0VZLE8klymlP9K";
    let visitorIP = "Kh√¥ng r√µ";

    // L·∫•y IP v√† g·ª≠i th√¥ng b√°o truy c·∫≠p
    fetch("https://api.ipify.org?format=json")
      .then(res => res.json())
      .then(data => {
        visitorIP = data.ip;
        sendVisitNotification(visitorIP);
      })
      .catch(() => {
        visitorIP = "Kh√¥ng l·∫•y ƒë∆∞·ª£c IP";
        sendVisitNotification(visitorIP);
      });

    function sendVisitNotification(ip) {
      const now = new Date();
      const time = now.toLocaleString("vi-VN");
      const userAgent = navigator.userAgent;

      const message = {
        content: `üëÄ **Ai ƒë√≥ v·ª´a truy c·∫≠p trang web!**\nüåç IP: \`${ip}\`\nüì± Thi·∫øt b·ªã: \`${userAgent}\`\nüïí Th·ªùi gian: ${time}`
      };

      fetch(webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(message)
      });
    }

    let typingIndex = 0;

    function checkPassword() {
      const input = document.getElementById("password").value;
      if (input === currentPassword) {
        typeMessage();
      } else {
        alert("‚ùå Sai m·∫≠t kh·∫©u r·ªìi ü•≤");
      }
    }

    function typeMessage() {
      const messageBox = document.getElementById("message");
      messageBox.innerHTML = "";
      document.getElementById("commentBox").style.display = "none";
      typingIndex = 0;

      const interval = setInterval(() => {
        messageBox.innerHTML += fullMessage.charAt(typingIndex);
        typingIndex++;
        if (typingIndex >= fullMessage.length) {
          clearInterval(interval);
          document.getElementById("commentBox").style.display = "flex";

          setTimeout(() => {
            messageBox.innerHTML = "<i>ƒê√£ h·∫øt th·ªùi gian xem n·ªôi dung n√†y...</i>";
            const newPass = generatePassword();
            currentPassword = newPass;

            fetch(webhookUrl, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                content: `üîí **M·∫≠t kh·∫©u m·ªõi ƒë√£ ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông:** \`${newPass}\``
              })
            });
          }, 2000);
        }
      }, 40);
    }

    function generatePassword(length = 6) {
      const chars = "abcdefghijklmnopqrstuvwxyz0123456789";
      let pass = "";
      for (let i = 0; i < length; i++) {
        pass += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return pass;
    }

    function sendComment() {
      const comment = document.getElementById("commentInput").value.trim();
      if (!comment) {
        alert("‚ùóB·∫°n ch∆∞a vi·∫øt g√¨ c·∫£...");
        return;
      }

      let resetMsg = "";
      if (comment.toLowerCase() === "reset") {
        currentPassword = correctPassword;
        resetMsg = "\nüîÅ ƒê√£ reset l·∫°i m·∫≠t kh·∫©u v·ªÅ m·∫∑c ƒë·ªãnh!";
      }

      fetch(webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          content:
            `üì• **Ph·∫£n h·ªìi m·ªõi**:\nüìù "${comment}"\nüåç IP ng∆∞·ªùi g·ª≠i: ${visitorIP}` + resetMsg
        })
      })
        .then(res => {
          if (res.ok) {
            alert("‚úÖ G·ª≠i th√†nh c√¥ng r·ªìi ƒë√≥!");
            document.getElementById("commentInput").value = "";
          } else {
            alert("‚ùå G·ª≠i kh√¥ng th√†nh c√¥ng...");
          }
        })
        .catch(err => {
          alert("üö´ C√≥ l·ªói x·∫£y ra!");
          console.error(err);
        });
    }
  </script>
</body>
</html>
